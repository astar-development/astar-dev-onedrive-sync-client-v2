<UserControl
    x:Class="AstarOneDrive.UI.AccountManagement.AccountListView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="clr-namespace:AstarOneDrive.UI.AccountManagement"
    x:DataType="vm:AccountListViewModel">

    <StackPanel Spacing="8" Margin="8">

        <TextBlock Text="{DynamicResource Accounts_Title}"
                   FontWeight="Bold"
                   FontSize="16" />

        <!-- Accounts List -->
        <ItemsControl ItemsSource="{Binding Accounts}">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border Padding="8" Margin="0,4"
                            Background="{DynamicResource CardBackground}"
                            CornerRadius="4">
                        <StackPanel>
                            <TextBlock Text="{Binding Email}" />
                            <TextBlock Text="{Binding StorageUsed}" FontSize="11" />
                            <Button Content="{DynamicResource Accounts_Manage}"
                                    Command="{Binding DataContext.ManageAccountCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                    CommandParameter="{Binding}" />
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <!-- Add Account -->
        <Button Content="{DynamicResource Accounts_Add}"
                Command="{Binding AddAccountCommand}" />

    </StackPanel>
</UserControl>
